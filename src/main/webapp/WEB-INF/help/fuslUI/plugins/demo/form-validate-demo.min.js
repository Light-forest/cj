$.validator.setDefaults({
    highlight:function(e) {
        $(e).closest(".layui-form-item").removeClass("has-success").addClass("has-error");
    },
    success:function(e) {
        e.closest(".layui-form-item").removeClass("has-error").addClass("has-success");
    },
    errorElement:"span",
    errorPlacement:function(e, r) {
        e.appendTo(r.is(":radio") || r.is(":checkbox") ? r.parent().parent().parent() :r.parent());
    },
    errorClass:"help-block mb0",
    validClass:"help-block mb0"
}), $().ready(function() {
    $("#commentForm").validate();
    var e = "<i class='fa fa-times-circle'></i> ";
    $("#signupForm").validate({
        rules:{
            firstname:"required",
            lastname:"required",
            username:{
                required:!0,
                minlength:2
            },
            password:{
                required:!0,
                minlength:5
            },
            confirm_password:{
                required:!0,
                minlength:5,
                equalTo:"#password"
            },
            date:{
            	required:!0,
                date:!0
            },
            email:{
                required:!0,
                email:!0
            },
            topic:{
                required:"#newsletter:checked",
                minlength:2
            },
            creditcard:{
            	required:!0,
                creditcard:!0
            },
            agree:"required"
        },
        messages:{
            firstname:e + "请输入你的姓",
            lastname:e + "请输入您的名字",
            username:{
                required:e + "请输入您的用户名",
                minlength:e + "用户名必须两个字符以上"
            },
            password:{
                required:e + "请输入您的密码",
                minlength:e + "密码必须5个字符以上"
            },
            confirm_password:{
                required:e + "请再次输入密码",
                minlength:e + "密码必须5个字符以上",
                equalTo:e + "两次输入的密码不一致"
            },
            date:{
            	required:e + "请输入日期",
                minlength:e + "必须输入正确格式的日期"
            },            
            email:{
            	required:e + "请输入您的E-mail",
                minlength:e + "请输入正确的E-mail"
            },
            creditcard:{
            	required:e + "creditcard",
                minlength:e + "error creditcard"
            },
            agree:{
                required:e + "必须同意协议后才能注册",
                element:"agree-error"
            }
        }
    }), $("#username").focus(function() {
        var e = $("#firstname").val(), r = $("#lastname").val();
        e && r && !this.value && (this.value = e + "." + r);
    });
});


